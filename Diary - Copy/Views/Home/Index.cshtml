@model IEnumerable<Diary.Models.BlogPost>
@{
    //Layout = null;
}
<div class="row">

    <!-- Blog Entries Column -->
    <div class="col-md-8">

        <h1 class="page-header">
            Diary - @ViewBag.Tag
            @if (ViewBag.Search != null) 
            {
                <br/><small>Search for: @ViewBag.Search</small>
            }
        </h1>

        @if (Model.Count() == 0) 
        {
            <h2>No posts to display</h2>
        }
        @foreach (Diary.Models.BlogPost post in Model)
        {
            <h2>
                <a href="#">@post.Heading</a>
            </h2>
            @*<p class="lead">
                by <a href="index.php">Start Bootstrap</a>
            </p>*@
            <p><span class="glyphicon glyphicon-time"></span> Posted on @string.Format("{0:MMMM dd, yyyy} at {0:HH:mm}", post.PostDate)</p>
            @*<hr>
            <img class="img-responsive" src="http://placehold.it/900x300" alt="">*@
            <hr>
            <p>@post.Post</p>
            @*<a class="btn btn-primary" href="#">Read More <span class="glyphicon glyphicon-chevron-right"></span></a>*@

            <hr>
        }

        <!-- Pager -->
        <ul class="pager">
            @if (ViewBag.Prev > 0)
            { 
                <li class="previous">
                    <a href="#">&larr; Newer</a>
                </li>
            }
            @if (ViewBag.Next > 0)
            { 
                <li class="next">
                    <a href="#">Older &rarr;</a>
                </li>
            }
        </ul>

    </div>

    <!-- Blog Sidebar Widgets Column -->
    <div class="col-md-4">

        <!-- Blog Search Well -->
        @using (Html.BeginForm("Index", "Home", FormMethod.Get))
        {
            <input type="hidden" name="tag" value="@ViewBag.tag" />
            <div class="well">
                <h4>Blog Search</h4>
                <div class="input-group">
                    <input name="search" type="text" class="form-control" placeholder="In @ViewBag.Tag">
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="submit">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </span>
                </div>
                <!-- /.input-group -->
            </div>
        }

        <!-- Blog Categories Well -->
        <div class="well">
            <h4>Blog Categories</h4>
            <div class="row">
                <div class="col-lg-6">
                    <ul class="list-unstyled">
                        <li>
                            @Html.ActionLink("All", "Index", null, new { @class = "btn btn-default col-md-12" })
                        </li>
                        @{
                            int half = (ViewBag.Tags.Count / 2) + (ViewBag.Tags.Count % 2);
                            for (int i = 0; i < half; i++)
                            {
                                <li>
                                    @Html.ActionLink((string)ViewBag.Tags[i].TagName, "Index", new { tag = ViewBag.Tags[i].TagName }, new { @class = "btn btn-default col-md-12" })
                                </li>
                            }
                        }
                    </ul>
                </div>
                <!-- /.col-lg-6 -->
                <div class="col-lg-6">
                    <ul class="list-unstyled">
                        <li>
                            <div class="btn btn-default" style="visibility: hidden">&nbsp;</div>
                        </li>
                        @for (int i = half; i < ViewBag.Tags.Count; i++)
                        {
                            <li>
                                @Html.ActionLink((string)ViewBag.Tags[i].TagName, "Index", new { tag = ViewBag.Tags[i].TagName }, new { @class = "btn btn-default col-md-12" })
                            </li>
                        }
                    </ul>
                </div>
                <!-- /.col-lg-6 -->
            </div>

            <!-- /.row -->
        </div>

        <!-- Side Widget Well -->
        @*<div class="well">
            <h4>Side Widget Well</h4>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Inventore, perspiciatis adipisci accusamus laudantium odit aliquam repellat tempore quos aspernatur vero.</p>
        </div>*@

    </div>

</div>
<!-- /.row -->
